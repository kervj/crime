<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablet Crime</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
        integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
</head>

<body>
    <div class="container">
        <div class="group">
            <svg stroke="white" stroke-width="15" fill="white" version="1.1" id="_x32_"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px"
                viewBox="0 0 512 512" xml:space="preserve">
                <g>
                    <path stroke="white" stroke-width="15" fill="white" class="st0" d="M479.031,184.313l5.531-11.25h-94.453c-0.141-0.813-0.344-1.875-0.594-3.234
		c-1.828-9.766-6.172-32.969-10.797-57.594v-0.016c-3.047-16.188-6.219-32.984-8.875-47c-1.328-7-2.531-13.313-3.531-18.5
		s-1.797-9.25-2.313-11.781c-0.563-2.688-1.391-5.25-2.453-7.688c-1.078-2.438-2.391-4.75-3.922-6.875
		c-4.563-6.469-10.906-11.516-18.156-15C332.203,1.906,324.016,0,315.531,0c-5.188,0-10.469,0.719-15.688,2.25
		c-5.203,1.516-10.328,3.875-15.172,7.094c-6.141,4.109-11.813,6.219-16.688,7.375c-2.453,0.563-4.703,0.891-6.703,1.063
		c-2,0.188-3.75,0.219-5.281,0.219c-1.469,0-2.719,0.063-3.922,0.063c-1.297,0-2.516-0.063-3.891-0.234
		c-2.063-0.266-4.563-0.797-7.969-2.109c-3.438-1.281-7.75-3.344-13.219-6.594c-9.891-5.875-20.625-8.531-30.875-8.531
		c-5.625,0-11.109,0.813-16.281,2.344c-7.75,2.281-14.813,6.188-20.438,11.609c-2.813,2.703-5.25,5.766-7.188,9.203
		c-1.938,3.422-3.391,7.172-4.203,11.188h0.016c-0.531,2.531-1.313,6.594-2.313,11.781c-3,15.563-7.859,41.219-12.438,65.516
		c-4.625,24.625-8.953,47.828-10.781,57.594c-0.25,1.359-0.469,2.422-0.609,3.234H27.438l5.531,11.25
		c0.281,0.563,3,5.953,9.844,13.719c10.219,11.656,29.688,28.625,63.5,42.578c9.672,3.969,20.5,7.703,32.594,11.016v4.156
		L176,298.656c0,0,42.906,8.125,46.391,6.969c3.469-1.156,33.609-31.313,33.609-31.313s30.156,30.156,33.625,31.313
		S336,298.656,336,298.656l37.094-42.875v-4.156c40.391-11.031,66.484-26.875,82.625-40.469
		C472.688,196.875,478.641,185.125,479.031,184.313z M148.656,115.125c3.031-16.188,6.219-33,8.859-46.984
		c1.328-7,2.547-13.297,3.531-18.453c1-5.172,1.797-9.219,2.297-11.656l0,0c0.625-3.125,1.891-5.953,3.719-8.563
		c2.75-3.875,6.844-7.219,11.875-9.563s10.969-3.688,17.188-3.672c7.563,0,15.5,1.953,22.906,6.328
		c8.094,4.813,14.469,7.625,19.875,9.219c2.688,0.781,5.141,1.281,7.344,1.563c2.219,0.281,4.156,0.344,5.828,0.344
		c1.563,0,2.859-0.063,3.922-0.063c1.781,0,4.063-0.047,6.688-0.281c3.938-0.344,8.688-1.125,13.906-2.813s10.906-4.281,16.75-8.188
		c3.516-2.344,7.188-4.031,10.906-5.125s7.531-1.594,11.281-1.594c4.063,0,8.094,0.625,11.813,1.766
		c5.609,1.703,10.578,4.609,14.281,8.203c1.828,1.781,3.375,3.75,4.563,5.844c1.188,2.078,2.031,4.281,2.5,6.594l0,0
		c0.5,2.438,1.281,6.484,2.281,11.656c2.969,15.484,7.844,41.141,12.391,65.422c0.609,3.219,1.203,6.391,1.797,9.547H146.859
		C147.453,121.5,148.047,118.328,148.656,115.125z M395.375,227.906c-31.469,12.25-76.313,21.969-139.375,21.969
		c-44.016,0-79.156-4.75-107.063-11.781c-41.859-10.531-67.469-26.188-82.578-38.891c-4.563-3.828-8.156-7.422-10.953-10.516
		h401.203c-0.547,0.594-1.109,1.219-1.703,1.844C445.031,200.906,426.844,215.656,395.375,227.906z" />
                    <path stroke="white" stroke-width="15" class="st0" d="M94.25,345.125c5.828-6.141,10.969-10.828,14.625-13.969c1.813-1.547,3.266-2.719,4.234-3.5
		c0.484-0.375,0.859-0.656,1.109-0.844c0.109-0.078,0.203-0.141,0.25-0.188l0.047-0.031h0.016l-0.094-0.109l-0.031-0.047
		l-9.094-12.484c-0.281,0.219-9.891,7.234-22.406,20.422c-12.5,13.203-27.938,32.594-39.719,57.625l-3.156,6.688l49,26.438
		c-7.438,5.516-18.063,13.797-29.313,23.766c-10.375,9.203-21.234,19.859-30.594,31.234c-4.656,5.672-8.938,11.531-12.594,17.531
		c-2.844,4.703-5.313,9.484-7.219,14.344h17.125c1-2.063,2.172-4.141,3.453-6.219c5.531-9.125,13.203-18.516,21.609-27.344
		c12.625-13.266,26.844-25.281,37.859-33.922c5.516-4.328,10.234-7.813,13.563-10.203c1.672-1.188,2.984-2.109,3.875-2.75
		c0.453-0.313,0.781-0.531,1-0.688c0.109-0.078,0.203-0.125,0.25-0.172l0.063-0.047h0.016l10.688-7.219l-58.203-31.406
		C70.969,372.094,83.719,356.234,94.25,345.125z" />
                    <path stroke="white" stroke-width="15" class="st0" d="M495.469,497.656c-6.375-10.5-14.719-20.594-23.656-30c-13.391-14.063-28.109-26.469-39.531-35.438
		c-3.438-2.703-6.594-5.094-9.313-7.094l49-26.438L468.828,392c-11.797-25.031-27.219-44.422-39.734-57.625
		c-12.5-13.188-22.125-20.203-22.422-20.422l-9.031,12.422l-0.156,0.219c0.266,0.203,9.266,6.828,20.828,19.125
		c10.406,11.063,22.906,26.719,33.094,46.313l-58.219,31.406l10.703,7.219c0.047,0.031,4.656,3.156,11.734,8.469
		c7.063,5.313,16.594,12.828,26.5,21.656c9.938,8.813,20.219,18.938,28.781,29.375c4.266,5.219,8.094,10.5,11.25,15.688
		c1.25,2.063,2.406,4.125,3.438,6.156h17.094C500.781,507.141,498.328,502.359,495.469,497.656z" />
                    <rect x="235.906" y="417.969" class="st0" width="40.188" height="28.406" />
                    <polygon class="st0" points="240.469,461.313 234.234,512 277.781,512 271.547,461.313 	" />
                </g>
            </svg>
            <b id="grupa">nameGrupy</b>
        </div>
        <div class="nav">
            <button onclick="Change('home');" class="button"><i class="fas fa-home"></i> Ekran Główny</button><br><br>
            <button onclick="Change('members');" class="button"><i class="fas fa-users-crown"></i>
                Członkowie</button><br><br>
            <button onclick="Change('upgrade');" class="button"><i class="fas fa-level-up"></i>
                Ulepszenia</button><br><br>
            <!-- <button onclick="Change('quests');" class="button"><i class="fas fa-handshake"></i> Zadania</button><br><br> -->
            <!-- <button onclick="Change('wallet');" class="button"><i class="fas fa-wallet"></i> Portfel</button><br><br> -->
        </div>
        <section id="home">
            <div class="topbar">
                <!-- <div class="embed">
                    <div class="main">Account: <span id="account">2137</span></div><br>
                    <div class="sub">Dostępne środki: <span id="money">420</span></div>
                </div> -->
                <h1>Tablet Organizacji</h1>
                <br>
                <img width="100%" height="350px" src="" alt="sraka">
                <br>
            </div>
        </section>

        <section id="members">
            <div class="topbar">
                <div class="members-header">
                    <button onclick="add();" id="add" class="button5"><i class="fas fa-users-crown"></i> Dodaj
                        członka</button>
                    <div class="members-header-text"><b>Członkowie: </b>
                        <span id="gamers">2</span>
                    </div>
                </div>
                <div class="box2">
                    <table>
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Imię i Nazwisko</th>
                                <th>ISN</th>
                                <th>Stopień</th>
                                <th style="text-align: center;">Akcje</th>
                            </tr>
                            <br>
                        </thead>
                        <tbody class="testowa">
                            <tr class="ludzik">
                                <td>
                                    <div id="status" class='active'></div>
                                </td>
                                <td>Imię Nazwisko</td>
                                <td style="text-align: center">ISN</td>
                                <td style="text-align: center">4</td>
                                <td style="text-align: center">21/09/2022</td>
                                <td style="text-align: center">
                                    <button onclick="Change('home');" class="button6">Wyrzuć</button>
                                    <button onclick="Change('home');" class="button6">Awansuj</button>
                                    <button onclick="Change('home');" class="button6">Degraduj</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <br>
            </div>
        </section>

        <section id="upgrade">
            <div class="topbar"><b>
                    <h2 id="ulepszenia">Ulepszenia</h2>
                </b>
                <div class="box">
                    <div id="up1" class="embed2">
                        <div class="title">
                            <h1>Upgrade liczby członków #1</h1>
                        </div>
                        <span class="sup">Możliwość dodania 8 członków</span><br><br><br><br>
                        <div class="price">Cena Ulepszenia: <span id="price">5</span></div>
                        <div class="req">Wymagane ulepszenie do odblokowania: <span class="badge"><b>Brak</b></span>
                        </div><br>
                        <a href="javascript:upgrade1();" class="button2"><b>Odblokuj ulepszenie</b></a>
                    </div><br>
                    <div id="up2" class="embed2">
                        <div class="title">
                            <h1>Upgrade liczby członków #2</h1>
                        </div>
                        <span class="sup">Możliwość dodania 15 członków</span><br><br><br><br>
                        <div class="price">Cena Ulepszenia: <span id="price">15</span></div>
                        <div class="req">Wymagane ulepszenie do odblokowania: <span class="badge"><b>Upgrade liczby
                                    członków #1</b></span></div><br>
                        <a href="javascript:upgrade2();" class="button2"><b>Odblokuj ulepszenie</b></a>
                    </div>
                </div>
            </div>
        </section>
        <section id="stats">
            <div class="topbar"><b>
                    <h2>Statystyki</h2>
                </b>
                <canvas id="myChart" width="400" height="200"></canvas>
            </div>

        </section>
        <section id="quests">
            <div class="topbar"><b>
                    <h2>Zadania</h2>
                </b>
                <div class="box2">

                    <center>
                        <h4><b>Dostępne Misje</b></h4>
                    </center>
                    <br>
                    <div class="embed2">
                        <div class="title">
                            <h1>Vangelico Heist</h1>
                        </div>
                        <span class="sup">Włamanie do jubilera</span><br><br><br><br>
                        <div class="nagroda">Nagroda: <span id="nagroda">5</span></div>
                        <div class="req">Wymagane do rozpoczęcia: <span class="badge"><b>Brak</b></span></div><br>
                        <a href="javascript:vangelico();" class="button2"><b>Rozpocznij</b></a>
                    </div><br>
                    <div class="embed2">
                        <div class="title">
                            <h1>Flecca Heist</h1>
                        </div>
                        <span class="sup">Atak na placówke Flecca</span><br><br><br><br>
                        <div class="nagroda">Nagroda: <span id="nagroda">7</span></div>
                        <div class="req">Wymagane do rozpoczęcia: <span class="badge"><b>Brak</b></span></div><br>
                        <a href="" class="button2"><b>Rozpocznij</b></a>
                    </div>
                </div>
            </div>
        </section>
        <section id="wallet">
            <div class="topbar"><b>
                    <h2>Portfel</h2>
                </b>
                <b>
                    <h4>Numer Portfela Organizacji: <span id="account2">213742069</span></h4>
                </b><br>
                <div class="boxik">
                    <div class="embed" style="border-radius: 0px;width: 20%;">
                        <div class="main"><span id="btc"><span id="btc1">2</span></span></div><br>
                        <a href="javascript:Transfer('btc');" class="button2"><b>Przelej</b></a>
                    </div>
                    <!-- <div class="embed shadow" style="border-radius: 0px;width: 20%;">
                        <div class="main"><span id="eth"><span id="eth1">2</span></span></div><br>
                        <a  data-modal="modal" href="javascript:Transfer('eth');" class="button2"><b>Przelej</b></a>
                    </div>
                    <div class="embed shadow" style="border-radius: 0px;width: 20%;">
                        <div class="main"><span id="xmr"><span id="xmr1">2</span></span></div><br>
                        <a href="javascript:Transfer('xmr');" data-modal="modal" class="button2"><b>Przelej</b></a>
                    </div> -->
                </div>

            </div>
        </section>
        <section id="modal">
            <div class="topbar"><b>
                    <h2>Przelew <span class="what"></span></h2>
                </b><br>
                <center>

                    <input type="number" id="wallet1" name="wallet" placeholder="Numer Portfelu"><br><br>
                    <input type="number" id="number" name="number" placeholder="Ilość"><br><br>
                    <button class="button" onclick="return foo();">Potwierdź</button>

                </center>
            </div>
        </section>
        <section id="modal1">
            <div class="topbar"><b>
                    <h2>Dodaj użytkownika</h2>
                </b><br>
                <center>

                    <input type="number" id="isnik" name="isnik" placeholder="ID"><br><br>
                    <button class="button" onclick="return add1();">Potwierdź</button>

                </center>
            </div>
        </section>
    </div>
    <script>
        $(document).ready(function () {
            console.log(`[INFO] Initializing Crime Tablet....`)
            console.log(`[SUCCESS] Initializing Success complete!`)
            $('#members').hide();
            $('#upgrade').hide();
            $('#stats').hide();
            $('#quests').hide();
            $('#modal1').hide()
            $('#wallet').hide();
            $('#modal').hide();
            $('.container').hide();	// UKRYWA WSZYSTKIE DIV
        })

        $(function () {
            function display(bool) {
                if (bool) {
                    $(".container").show();
                } else {
                    $(".container").hide();
                }
            }

            display(false)

            window.addEventListener('message', function (event) {
                var item = event.data;
                if (item.type === "ui") {
                    if (item.status == true) {
                        display(true)
                    } else {
                        display(false)
                    }
                }
            })
        });

        let page = 'home';
        function Change(web) {
            if (web == page) { return; }
            $(`#${web}`).show();
            $(`#${page}`).hide();
            page = web;
        }

        function add() {
            $(`#${page}`).hide();
            $('#modal1').show();
            page = 'modal1';
        }

        function add1() {
            var isn = document.getElementById("isnik").value
            console.log(isn)
            $.post(`https://xrp_crime/invite`, JSON.stringify({
                isn: isn,
            }));
            $.post(`https://xrp_crime/exit`, JSON.stringify({
            }));
            return true;
        }
        function fire(ISN) {
            console.log(ISN)
            typek(ISN, "fire")
        }
        function promote(ISN) {
            console.log(ISN)
            typek(ISN, "promote")
        }
        function degrad(ISN) {
            console.log(ISN)
            typek(ISN, "degrad")
        }

        function typek(ISN, typ) {
            $.post(`https://xrp_crime/manage`, JSON.stringify({
                isn: ISN,
                typ: typ,
            }));
            return true;
        }

        window.addEventListener('message', function (event) {
            if (event.data.type == "UPDATE_ALL") {
                let name1 = event.data.name;
                let id = event.data.id;
                // let btc = event.data.btc;
                // let account = event.data.account;
                // let money = event.data.balance;

                // document.getElementById('level').innerHTML = event.data.lvl;
                document.getElementById('grupa').innerHTML = name1;
                // document.getElementById('xmr').innerHTML = cmc;
                // document.getElementById('btc1').innerHTML = btc;
                // document.getElementById('btc').innerHTML = btc;
                // document.getElementById('eth1').innerHTML = eth;
                // document.getElementById('xmr1').innerHTML = cmc;
                // document.getElementById('account').innerHTML = account;
                // document.getElementById('account1').innerHTML = account;
                // document.getElementById('account2').innerHTML = account;
                // document.getElementById('money').innerHTML = money;
                // document.getElementById('lvl').innerHTML = event.data.exp +'/1000';

                // $('.pasek').css('width', +expik+'%');
                // let upg = event.data.upgrade
                // if (upg == 1) {
                //     $('#up1').hide();
                //     document.getElementById('maxGamers').innerHTML = 8;
                // }
                // else if (upg == 2) {
                //     $('#up1').hide();
                //     $('#up2').hide();

                //     document.getElementById('ulepszenia').innerHTML = "Brak Ulepszeń";
                //     document.getElementById('maxGamers').innerHTML = 15;
                // }

            }
        })

        window.addEventListener('message', function (event) {
            var item = event.data;
            if (item.clearme == true) {
                $(".ludzik").remove();
                number = 0;
            }
        });

        $(document).keyup(function (e) {
            if (e.key === "Escape") { // escape key maps to keycode `27`
                $.post(`https://xrp_crime/exit`, JSON.stringify({
                }));
            }
        });

        window.addEventListener('message', function (event) {
            var item = event.data;
            if (item.addcar == true) {
                var car = '<tr class="ludzik"><td><div id="status" class=' + item.status + '></div></td><td style="text-align: center">' + item.name + '</td><td style="text-align: center">' + item.id + '</td><td style="text-align: center">' + item.grade + '</td><td class="guziory"><button   onclick="promote(' + item.id + ');" class="button6">Awansuj</button><button  onclick="degrad(' + item.id + ');" class="button6"> Degraduj</button><br><button  onclick="fire(' + item.id + ');" class="button6"> Wyrzuć</button><br></td></tr>';

                $(".testowa").append(car);
                $("#btnCar" + item.number).removeClass('btnCar');
                $("#btnCar" + item.number).html(item.name);
                $("#btnCar" + item.number).addClass("ludzik")
                number = number + 1;
                document.getElementById('gamers').innerHTML = event.data.number1;

                var liczba = parseFloat(event.data.number1);
                // console.log(liczba);
                // console.log(event.data.number1);

                if (item.upgrade == "2" && liczba >= 15) {

                    $('#add').hide()

                } else if (item.upgrade == "1" && liczba >= 8) {

                } else if (liczba >= 5) {
                    $('#add').hide()
                }
            }
        });

    </script>
</body>

</html>